<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Tr·∫Øc Nghi·ªám Ti·∫øng Anh</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <h1>üéì Quiz Tr·∫Øc Nghi·ªám</h1>
                <div class="quiz-info">
                    <div class="info-item">
                        <span class="icon">üìä</span>
                        <span>ƒêi·ªÉm: <span id="currentScore">0</span>/<span id="maxScore">25</span></span>
                    </div>
                    <div class="info-item">
                        <span class="icon">‚è±Ô∏è</span>
                        <span>Th·ªùi gian: <span id="elapsedTime">00:00</span></span>
                    </div>
                    <div class="info-item">
                        <span class="icon">üìù</span>
                        <span>T·ªïng: <span id="totalQuestions">25</span> c√¢u</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">0/25</div>
        </div>

        <!-- Exercise Type Selection Screen -->
        <div id="exerciseTypeScreen" class="screen" style="display: block;">
            <div class="exercise-types">
                <h2>üéØ Ch·ªçn d·∫°ng b√†i t·∫≠p</h2>
                <div class="type-grid">
                    <button class="type-btn" onclick="selectExerciseType('grammar')">
                        <span class="type-icon">üìù</span>
                        <span class="type-title">Grammar Quiz</span>
                        <span class="type-desc">100 c√¢u tr·∫Øc nghi·ªám ng·ªØ ph√°p</span>
                    </button>
                    <button class="type-btn" onclick="selectExerciseType('transformation')">
                        <span class="type-icon">üîÑ</span>
                        <span class="type-title">Sentence Transformation</span>
                        <span class="type-desc">25 c√¢u chuy·ªÉn ƒë·ªïi c√¢u</span>
                    </button>
                    <button class="type-btn" onclick="selectExerciseType('speaking')">
                        <span class="type-icon">üé§</span>
                        <span class="type-title">Speaking Practice</span>
                        <span class="type-desc">6 ch·ªß ƒë·ªÅ luy·ªán n√≥i</span>
                    </button>
                    <button class="type-btn" onclick="selectExerciseType('writing')">
                        <span class="type-icon">‚úçÔ∏è</span>
                        <span class="type-title">Writing Practice</span>
                        <span class="type-desc">2 b√†i m·∫´u vi·∫øt th∆∞</span>
                    </button>
                    <button class="type-btn" onclick="selectExerciseType('listening')">
                        <span class="type-icon">üéß</span>
                        <span class="type-title">Listening Practice</span>
                        <span class="type-desc">9 b√†i test nghe hi·ªÉu</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Lesson Selection Screen -->
        <div id="lessonSelectScreen" class="screen" style="display: none;">
            <div class="lesson-selection">
                <div class="lesson-header">
                    <button class="btn btn-secondary" onclick="backToExerciseTypes()">
                        <span class="btn-icon">‚Üê</span>
                        <span class="btn-text">Ch·ªçn d·∫°ng b√†i kh√°c</span>
                    </button>
                    <h2 id="lessonTitle">üìö Ch·ªçn b√†i h·ªçc</h2>
                </div>
                <div class="lesson-grid" id="lessonGrid">
                    <!-- Lessons s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
                </div>
            </div>
        </div>

        <!-- Start Screen -->
        <div id="startScreen" class="screen start-screen" style="display: none;">
            <div class="start-content">
                <div class="welcome-icon">üöÄ</div>
                <h2>S·∫µn s√†ng l√†m b√†i?</h2>
                <p class="welcome-text" id="welcomeText">
                    B·∫°n s·∫Ω tr·∫£ l·ªùi 25 c√¢u h·ªèi tr·∫Øc nghi·ªám v·ªõi 4 l·ª±a ch·ªçn A, B, C, D.<br>
                    ƒêi·ªÉm s·ªë s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t ngay khi b·∫°n ch·ªçn ƒë√°p √°n.
                </p>
                <div class="start-actions">
                    <button class="btn btn-secondary" onclick="backToLessons()">
                        <span class="btn-icon">‚Üê</span>
                        <span class="btn-text">Ch·ªçn b√†i kh√°c</span>
                    </button>
                    <button class="btn btn-primary btn-large" onclick="startQuiz()">
                        <span class="btn-icon">üéØ</span>
                        <span class="btn-text">B·∫Øt ƒê·∫ßu</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Question Screen -->
        <div id="questionScreen" class="screen question-screen" style="display: none;">
            <div class="question-container">
                <div class="question-header">
                    <div class="question-number">
                        <span class="question-badge">C√¢u <span id="currentQuestion">1</span></span>
                        <div class="question-status" id="questionStatus"></div>
                    </div>
                </div>

                <div class="question-content">
                    <div class="question-text" id="questionText">
                        ƒêang t·∫£i c√¢u h·ªèi...
                    </div>

                    <div class="options-container" id="optionsContainer">
                        <!-- Options s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
                    </div>

                    <div class="answer-feedback" id="answerFeedback" style="display: none;">
                        <div class="feedback-content">
                            <div class="feedback-icon"></div>
                            <div class="feedback-text"></div>
                        </div>
                        <div class="tip-content">
                            <div class="tip-icon">üí°</div>
                            <div class="tip-text"></div>
                        </div>
                    </div>
                </div>

                <div class="control-buttons">
                    <div class="auto-next">
                        <label class="checkbox-label">
                            <input type="checkbox" id="autoNextCheckbox">
                            <span class="checkbox-text">T·ª± ƒë·ªông chuy·ªÉn c√¢u</span>
                        </label>
                    </div>
                    <div class="navigation-buttons">
                        <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>
                            <span class="btn-icon">‚Üê</span>
                            <span class="btn-text">Tr∆∞·ªõc</span>
                        </button>
                        <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>
                            <span class="btn-text">Ti·∫øp theo</span>
                            <span class="btn-icon">‚Üí</span>
                        </button>
                        <button class="btn btn-success" id="finishBtn" onclick="finishQuiz()" style="display: none;">
                            <span class="btn-icon">üèÅ</span>
                            <span class="btn-text">Ho√†n th√†nh</span>
                        </button>
                    </div>
                    <button class="btn btn-warning" id="endEarlyBtn" onclick="endEarly()">
                        <span class="btn-icon">‚ö°</span>
                        <span class="btn-text">K·∫øt th√∫c s·ªõm</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="resultScreen" class="screen result-screen" style="display: none;">
            <div class="result-content">
                <div class="result-header">
                    <h2>üéâ Ho√†n th√†nh Quiz!</h2>
                </div>

                <div class="score-circle">
                    <div class="score-inner">
                        <div class="score-percentage" id="scorePercentage">0%</div>
                        <div class="score-label">K·∫øt qu·∫£</div>
                    </div>
                    <svg class="score-ring" width="200" height="200" viewBox="0 0 200 200">
                        <circle cx="100" cy="100" r="90" fill="none" stroke="#e5e7eb" stroke-width="8" />
                        <circle id="scoreRing" cx="100" cy="100" r="90" fill="none" stroke="#4f46e5" stroke-width="8"
                            stroke-linecap="round" stroke-dasharray="565.48" stroke-dashoffset="565.48" />
                    </svg>
                </div>


                <div class="result-stats">
                    <div class="result-stat correct">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-number" id="correctAnswers">0</div>
                        <div class="stat-label">C√¢u ƒë√∫ng</div>
                    </div>
                    <div class="result-stat wrong">
                        <div class="stat-icon">‚ùå</div>
                        <div class="stat-number" id="wrongAnswers">0</div>
                        <div class="stat-label">C√¢u sai</div>
                    </div>
                    <div class="result-stat time">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-number" id="totalTime">00:00</div>
                        <div class="stat-label">Th·ªùi gian</div>
                    </div>
                </div>

                <div class="result-actions">
                    <button class="btn btn-secondary btn-large" onclick="backToLessons()">
                        <span class="btn-icon">üìö</span>
                        <span class="btn-text">Ch·ªçn b√†i kh√°c</span>
                    </button>
                    <button class="btn btn-primary btn-large" onclick="restartQuiz()">
                        <span class="btn-icon">üîÑ</span>
                        <span class="btn-text">L√†m l·∫°i b√†i n√†y</span>
                    </button>
                    <button class="btn btn-review btn-large" onclick="reviewAnswers()">
                        <span class="btn-icon">üìã</span>
                        <span class="btn-text">Xem l·∫°i ƒë√°p √°n</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Review Screen -->
        <div id="reviewScreen" class="screen review-screen" style="display: none;">
            <div class="review-content">
                <div class="review-header">
                    <h2>üìã Xem l·∫°i ƒë√°p √°n</h2>
                    <button class="btn btn-review btn-large" onclick="backToResults()">
                        <span class="btn-icon">‚Üê</span>
                        <span class="btn-text">Quay l·∫°i</span>
                    </button>
                </div>
                <div id="reviewContainer" class="review-container">
                    <!-- Review items s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
                </div>
            </div>
        </div>

        <div id="speakingScreen" class="screen speaking-screen" style="display: none;">
            <div class="speaking-content">
                <div class="speaking-header">
                    <button class="modal-back-btn" onclick="backToLessons()">
                        <span class="back-chevron back-speaking">‚Äπ</span>
                    </button>
                    <h2 id="speakingTitle">üé§ Speaking Practice</h2>
                </div>
                <div class="speaking-body" id="speakingBody">
                    <!-- Content s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
                </div>
            </div>
        </div>

        <div id="writingScreen" class="screen writing-screen" style="display: none;">
            <div class="writing-content">
                <div class="writing-header">
                    <button class="modal-back-btn" onclick="backToLessons()">
                        <span class="back-chevron back-speaking">‚Äπ</span>
                    </button>
                    <h2 id="writingTitle">‚úçÔ∏è Writing Practice</h2>
                </div>
                <div class="writing-body" id="writingBody">
                    <!-- Content s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
                </div>
            </div>
        </div>
        <!-- Floating Action Buttons - Ch·ªâ hi·ªÉn th·ªã trong m√†n h√¨nh review -->
        <div class="floating-actions review-only">
            <button class="fab-button btn-back" onclick="backToLessons()" title="Quay l·∫°i ch·ªçn b√†i">
                <span class="fab-icon">üìö</span>
            </button>
            <button class="fab-button btn-restart" onclick="restartQuiz()" title="L√†m l·∫°i b√†i n√†y">
                <span class="fab-icon">üîÑ</span>
            </button>
        </div>

        <!-- Confirm Modal -->
        <div id="confirmModal" class="modal">
            <div class="modal-backdrop" onclick="closeConfirmModal()"></div>
            <div class="modal-content">
                <button class="modal-back-btn" onclick="closeConfirmModal()">
                    <span class="back-chevron">‚Äπ</span>
                </button>
                <div class="modal-body">
                    <div class="modal-icon">‚ö†Ô∏è</div>
                    <h3>X√°c nh·∫≠n k·∫øt th√∫c</h3>
                    <p>B·∫°n c√≥ ch·∫Øc mu·ªën k·∫øt th√∫c s·ªõm b√†i l√†m?<br>C√°c c√¢u ch∆∞a tr·∫£ l·ªùi s·∫Ω b·ªã t√≠nh l√† sai.</p>
                    <div class="modal-actions">
                        <button class="btn btn-end-early" id="endEarlyBtn" onclick="confirmEndEarly()">
                            <span class="btn-icon">‚ö°</span>
                            <span class="btn-text">K·∫øt th√∫c s·ªõm</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Scripts Data -->
    <script src="data/questions.js"></script>
    <script src="data/sentences.js"></script>
    <script src="data/speaking.js"></script>
    <script src="data/writing.js"></script>
    <script src="data/listening.js"></script>

     <!-- Scripts Main -->
    <script src="js/script.js"></script>

</body>

</html>